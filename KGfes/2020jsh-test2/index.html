<!--
	こんなところ見たって、なにもありませんよ！
-->
<!DOCTYPE html>
<!--HTML5-->
<html lang="ja">

<head>
	<!-- meta設定 -->
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" charset="UTF-8" />
	<meta http-equiv="Content-Style-Type" content="text/ccs" charset="UTF-8" />

	<!-- Global site tag (gtag.js) - Google Analytics by KG-->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116915593-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());
		gtag('config', 'UA-116915593-1');
	</script>

	<!-- 画面設定 -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- JS/CSS master -->
	<script src="loader.js"></script>
	<link rel="stylesheet" href="./script/KGfesPre.css">
	<style>
		div#kgfesPreWrap>section {
			margin: 60px var(--z-spacing);
		}

		div#kgfesPreWrap>section>div {
			margin: 30px var(--z-spacing);
		}

		ul#bgWrap {
			position: fixed;
			margin: 0;
			padding: 0 5px;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			overflow: hidden;
			z-index: -100;
		}

		ul#bgWrap li {
			position: absolute;
			display: block;
			list-style: none;
			opacity: 0.6;
			bottom: -200px;
		}

		@keyframes floating {
			0% {
				transform: translateY(0) rotate(0deg);
				opacity: 0.6;
			}

			100% {
				transform: translateY(calc(-110vh - 200px)) rotate(720deg);
				opacity: 0.1;
			}
		}
	</style>

	<title>五峯祭2020 - 国際学院中高</title>
</head>

<body>
	<div id="kgfesPreWrap">
		<section>
			<div style="font-size:x-large;">
				国際学院中学校高等学校<br />
				第23回 五峯祭</div>
			<div style="font-size:large;">
				令和2年9月12日(土) 10時～</div>
			<div>
				初のオンライン開催！<br />
				今までにない五峯祭をご期待ください！
			</div>
			<div>
				（本ページは随時更新します）
			</div>
		</section>
		<section><div class="zCentering">
			<script>
				(function () {
					let d = zDate.duration(new Date(2020, 9 - 1, 12))["day"];
					if (d > 0) {
						document.write("五峯祭（2020.9.12）まで、あと" + d + "日です。");
					} else if (d == 0) {
						document.write("五峯祭（2020.9.12）当日です！");
					} else {
						document.write("五峯祭（2020.9.12）は、" + (-d) + "日前に終了しました。");
					}

				})();
			</script>
		</div>
		
		<table id="KGcountdownWrap">
			<tfoot>
				<tr>
					<td colspan="5">
						<span id="KGcountdownMs" style="display:inline-block;height:2px;transition:65ms linear"></span>
					</td>
				</tr>
				<tr>
					<td colspan="5">
						until Saturday,12th September 2020,10:00
					</td>
				</tr>
			</tfoot>
			<tbody id="KGcountdown"></tbody>
		</table>
		<script>
			//カウントダウン設定
			//制限時間以降が未設定……
			let w_old = 0;
			let w_diff = 0;
			window.addEventListener('load', (event) => {

				let zCountdown_ = setInterval(function () {
					let d = zDate.duration(new Date(2020, 9 - 1, 12, 10, 00, 00));
					let s = "<span style='color:transparent;padding:0;margin:0;border:none;'>s</span>";
					document.getElementById("KGcountdown").innerHTML = "" +
						"<tr>" +
						"<th>" + d["week"] + "</th>" +
						"<th>" + d["day"] % 7 + "</th>" +
						"<th>" + d["hour"] % 24 + "</th>" +
						"<th>" + d["min"] % 60 + "</th>" +
						"<th>" + d["sec"] % 60 + "</th>" +
						"</tr>" +
						"<tr>" +
						"<td>" + "week" + (d["week"] <= 1 ? s : "s") + "</td>" +
						"<td>" + "day" + (d["day"] % 7 <= 1 ? s : "s") + "</td>" +
						"<td>" + "hour" + (d["hour"] % 24 <= 1 ? s : "s") + "</td>" +
						"<td>" + "minute" + (d["min"] % 60 <= 1 ? s : "s") + "</td>" +
						"<td>" + "second" + (d["sec"] % 60 <= 1 ? s : "s") + "</td>" +
						"</tr>";
					let w_new = (d["sec"] % 2 == 0 ? d["msec"] % 1000 : 1000 - (d["msec"] % 1000));
					w_diff = w_new - w_old;
					document.getElementById("KGcountdownMs").parentElement.style.textAlign = (w_diff > 0 ? "left" : "right");
					document.getElementById("KGcountdownMs").style.width = (w_new / 10) + "%";
					document.getElementById("KGcountdownMs").style.background = "hsl(" + ((d["msec"] % 2000) / 2000 * 360) + ",100%,50%)";
					w_old = w_new;
				}, 66);
			});
		</script>
		</section>
		<section class="zScrollIn">
			<div>
				<a class="zBtn" href="3d/adAR.html">AR五峯祭をのぞいてみよう！<br />（要カメラ＆専用マーカー）</a><br />
				<a href="3d/adVR.html">（カメラ・マーカー不要版）</a><br><br>
				※ARの起動には<a href="./3d/marker.html" target="_blank">専用マーカー</a>が必要です。
			</div>
			<div id="HowToAR">
				<a class="animate__animated animate__infinite animate__pulse" style="display:inline-block" onclick="(function(){
						let these = document.getElementById('HowToAR').children;
						these[1].classList.remove('zInvisible');
						these[1].classList.toggle('animate__backInUp');
						these[1].classList.toggle('animate__bounceOut');
						these[0].classList.toggle('animate__pulse');
					})()">あそびかた</a>
				<div class="zInvisible animate__animated animate__bounceOut" style="margin:var(--z-spacing)">
					<div style="margin:var(--z-spacing);">上のボタンをタップすると、<br />
						スマートフォン／タブレットの<br />
						カメラが起動します。<br />
						五峯祭のチラシについている<br />
						QRコードを読み込んで、<br />
						AR五峯祭をのぞいてみましょう！</div>
					機種によってはセンサ類の<br />
					アクセス許可を求められます。
				</div>
			</div>
		</section>
	</div><!-- /container -->
	<footer style="padding:10px 0;">
		<div style="text-align:right;padding:5px 5px 10px;">Last Update:2020/07/13</div>
		「第23回 五峯祭」特設サイト<br />
		<a href="https://jsh.kgef.ac.jp/" target="_self">国際学院中学校高等学校</a> 2020
	</footer>
	<script>

		// background生成
		(function () {
			let ul = document.createElement("ul");
			ul.id = "bgWrap";
			//パーティクル設定（画面幅に比例した数を生成。負荷を考慮してmax30）
			let count = Math.min(Math.round(window.innerWidth / 80), 30);

			for (let i = 0; i < count * 3; i++) {
				let li = document.createElement("li");
				li.setAttribute("style",
					"padding:" + Math.round(Math.random() * 70 + 10) + "px;" +
					"border-radius: " + Math.round(Math.random() * 25 + 20) + "%;" +
					"left:" + Math.round(100 / (count + 1) * i) + "%;" +
					"background-color:hsl(" + Math.round(Math.random() * 360) + ",100%,80%);" +
					"animation:floating " + Math.round(Math.random() * 15 + 5) + "s linear " +
					+ Math.round(Math.random() * 10) + "s infinite;"
				);
				ul.appendChild(li);
			}
			document.body.appendChild(ul);
		})();

	</script>
	<style>
		section#footer{
			display:none;
		}
	</style>
</body>

</html>